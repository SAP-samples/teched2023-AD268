'use strict';

exports.ValueSerializer = ValueSerializer;

function ValueSerializer(context, bufferSize) {
    var self = this;



    self.context = context;
    self.request = context.request;
    self.response = context.response;
    self.bufferSize = bufferSize;
    self.buffer = '';

    //self.response.writeHead(200, {'Content-Type': 'text/plain;charset=utf-8'});
    self.response.writeHead(200,  {'Content-Type': context.payloadType + ';charset=utf-8'});
}


ValueSerializer.prototype.write = function(data) {
    this.buffer += data;

};

ValueSerializer.prototype.flush = function() {
    this.response.write(this.buffer);
};



