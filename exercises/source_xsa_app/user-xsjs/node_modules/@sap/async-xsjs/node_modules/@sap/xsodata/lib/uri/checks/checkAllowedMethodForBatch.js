'use strict';
var Http405_MethodNotAllowed = require('../../utils/errors/http/methodNotAllowed');

module.exports = function checkAllowedMethodForBatch(context, callback) {
    var method = context.request.method.toLowerCase();

    if (method !== 'post'){
        return callback(new Http405_MethodNotAllowed('The URI is not valid for non POST operation. OData batch requests must use POST.'), context);
    }

    return callback(null, context);
};
