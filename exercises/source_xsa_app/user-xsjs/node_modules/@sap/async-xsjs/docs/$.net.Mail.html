<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Mail</title>
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">


    <script src="scripts/launch-8b3c5ca29b9e.min.js"></script>
    <script src="scripts/highlight.js"></script>
    <link rel="canonical" href="$.net.Mail.html">
</head>
<body>
<div id="main">
    <h1 class="page-title">Class: Mail</h1>
    <section>
        <header>
            <h2>
                <span class="ancestors"><a href="$.html">$</a><a href="$.net.html">.net</a>.</span>
                Mail
            </h2>
            <div class="class-description">Class for constructing and sending multipart emails</div>
        </header>
        <article>
            <div class="container-overview">
                <dt>
                    <h4 class="name" id="Mail"><span class="type-signature"></span>new Mail<span
                            class="signature">(<span class="optional">MailObject</span>)</span><span
                            class="type-signature"></span></h4>
                </dt>
                <dd>
                    <h5>Parameters:</h5>
                    <table class="params">
                        <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Argument</th>
                            <th class="last">Description</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td class="name"><code>MailObject</code></td>
                            <td class="type">
                                <span class="param-type">object</span>
                            </td>
                            <td class="attributes">
                                &lt;optional><br>
                            </td>
                            <td class="description last">JS object containing different part of the email
                                in JSON format. Supported properties are {'sender', 'to', 'cc', 'bcc', 'subject',
                                'subjectEncoding', 'parts'}.
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <dl class="details">
                    </dl>
                    <h5>Examples</h5>
                    <pre class="prettyprint"><code>//create empty $.net.Mail
var mail = new $.net.Mail();</code></pre>
                    <pre class="prettyprint"><code>//create email from JS Object and send
var mail = new $.net.Mail({
   sender: {address: "sender@sap.com"},
   to: [{ name: "John Doe", address: "john.doe@sap.com", nameEncoding: "US-ASCII"}, {name: "Jane Doe", address: "jane.doe@sap.com"}],
   cc: ["cc1@sap.com", {address: "cc2@sap.com"}],
   bcc: [{ name: "Jonnie Doe", address: "jonnie.doe@sap.com"}],
   subject: "subject",
   subjectEncoding: "UTF-8",
   parts: [ new $.net.Mail.Part({
       type: $.net.Mail.Part.TYPE_TEXT,
       text: "The body of the mail.",
       contentType: "text/plain",
       encoding: "UTF-8",
   })]
});
var returnValue = <b>await </b>mail.send();
var response = "MessageId = " + returnValue.messageId + ", final reply = " + returnValue.finalReply;

$.response.status = $.net.http.OK;
$.response.contentType = "text/html";
<b>await </b>$.response.setBody(response);</code></pre>
                </dd>
            </div>
            <h3 class="subsection-title">Classes</h3>
            <dl>
                <dt><a href="$.net.Mail.Part.html">Part</a></dt>
                <dd></dd>
            </dl>
            <h3 class="subsection-title">Members</h3>
            <dl>
                <dt>
                    <h4 class="name" id="bcc"><span class="type-signature"></span>bcc<span class="type-signature"> :array</span>
                    </h4>
                </dt>
                <dd>
                    <div class="description">
                        Property used for initializing "bcc" property of the mail. It is an
                        array containing objects with three properties. The first one is the
                        name of the person, the second one is the actual mail address, the
                        third one is the name encoding ex. {name: "John Doe", address:
                        "john.doe@sap.com", nameEncoding: "UTF-8"} or {name: "John Doe",
                        address: "john.doe@sap.com"} or {address: "john.doe@sap.com"} or just
                        "john.doe@sap.com". The name and the name encoding of the person can
                        be skipped, but the mail address cannot. If 'address' property is not
                        set, the mail won't be send at all.
                    </div>
                    <h5>Type:</h5>
                    <ul>
                        <li>
                            <span class="param-type">array</span>
                        </li>
                    </ul>
                    <dl class="details">
                    </dl>
                </dd>
                <dt>
                    <h4 class="name" id="cc"><span class="type-signature"></span>cc<span
                            class="type-signature"> :array</span></h4>
                </dt>
                <dd>
                    <div class="description">
                        Property used for initializing "cc" property of the mail. It is an
                        array containing objects with three properties. The first one is the
                        name of the person, the second one is the actual mail address, the
                        third one is the name encoding ex. {name: "John Doe", address:
                        "john.doe@sap.com", nameEncoding: "UTF-8"} or {name: "John Doe",
                        address: "john.doe@sap.com"} or {address: "john.doe@sap.com"} or just
                        "john.doe@sap.com". The name and the name encoding of the person can
                        be skipped, but the mail address cannot. If 'address' property is not
                        set, the mail won't be send at all.
                    </div>
                    <h5>Type:</h5>
                    <ul>
                        <li>
                            <span class="param-type">array</span>
                        </li>
                    </ul>
                    <dl class="details">
                    </dl>
                </dd>
                <dt>
                    <h4 class="name" id="parts"><span class="type-signature"></span>parts<span class="type-signature"> :array</span>
                    </h4>
                </dt>
                <dd>
                    <div class="description">
                        Property used for initializing "parts" property of the mail. It is an
                        array containing $.net.Mail.Part() objects.
                    </div>
                    <h5>Type:</h5>
                    <ul>
                        <li>
                            <span class="param-type">array</span>
                        </li>
                    </ul>
                    <dl class="details">
                    </dl>
                </dd>
                <dt>
                    <h4 class="name" id="sender"><span class="type-signature"></span>sender<span class="type-signature"> :object</span>
                    </h4>
                </dt>
                <dd>
                    <div class="description">
                        Property used for initializing "sender" property of the mail. The
                        object contains three properties. The first one is the name of the
                        person, the second one is the actual mail address, the third one is
                        the name encoding ex. {name: "John Doe", address: "john.doe@sap.com",
                        nameEncoding: "UTF-8"} or {name: "John Doe", address:
                        "john.doe@sap.com"} or {address: "john.doe@sap.com"} or just
                        "john.doe@sap.com". The name and the name encoding of the person can
                        be skipped, but the mail address cannot. If 'address' property is not
                        set, the mail won't be send at all. The "sender" property is a
                        mandatory field, if it is not set or is not set properly the mail
                        won't be sent.
                    </div>
                    <h5>Type:</h5>
                    <ul>
                        <li>
                            <span class="param-type">object</span>
                        </li>
                    </ul>
                    <dl class="details">
                    </dl>
                </dd>
                <dt>
                    <h4 class="name" id="subject"><span class="type-signature"></span>subject<span
                            class="type-signature"> :string</span></h4>
                </dt>
                <dd>
                    <div class="description">
                        Property used for initializing "subject" property of the mail
                    </div>
                    <h5>Type:</h5>
                    <ul>
                        <li>
                            <span class="param-type">string</span>
                        </li>
                    </ul>
                    <dl class="details">
                    </dl>
                </dd>
                <dt>
                    <h4 class="name" id="subjectEncoding"><span class="type-signature"></span>subjectEncoding<span
                            class="type-signature"> :string</span></h4>
                </dt>
                <dd>
                    <div class="description">
                        Property used for initializing "subjectEncoding" property of the
                        mail. It is the encoding of the subject. If this property is not set,
                        the default value is "UTF-8".
                    </div>
                    <h5>Type:</h5>
                    <ul>
                        <li>
                            <span class="param-type">string</span>
                        </li>
                    </ul>
                    <dl class="details">
                    </dl>
                </dd>
                <dt>
                    <h4 class="name" id="to"><span class="type-signature"></span>to<span
                            class="type-signature"> :array</span></h4>
                </dt>
                <dd>
                    <div class="description">
                        Property used for initializing "to" property of the mail. It is an
                        array containing objects with three properties. The first one is the
                        name of the person, the second one is the actual mail address, the
                        third one is the name encoding ex. {name: "John Doe", address:
                        "john.doe@sap.com", nameEncoding: "UTF-8"} or {name: "John Doe",
                        address: "john.doe@sap.com"} or {address: "john.doe@sap.com"} or just
                        "john.doe@sap.com". The name and the name encoding of the person can
                        be skipped, but the mail address cannot. If 'address' property is not
                        set, the mail won't be send at all.
                    </div>
                    <h5>Type:</h5>
                    <ul>
                        <li>
                            <span class="param-type">array</span>
                        </li>
                    </ul>
                    <dl class="details">
                    </dl>
                </dd>
            </dl>
            <h3 class="subsection-title">Methods</h3>
            <dl>
                <dt>
                    <h4 class="name" id="send"><span class="type-signature">async </span>send<span class="signature">()</span><span
                            class="type-signature"> &rarr; {object}</span></h4>
                </dt>
                <dd>
                    <dl class="details">
                    </dl>
                    <h5>Throws:</h5>
                    <div class="param-desc">
                        Will
                        throw an error if information is missing or there is an
                        error during sending or setting the properties.
                    </div>
                    <h5>Returns:</h5>
                    <div class="param-desc">
                        The object contains two properties: 'messageId' and
                        'finalReply'. The property 'messageId' contains the
                        generated messageId and the property 'finalReply' contains
                        the last reply from the mail server.
                    </div>
                    <dl>
                        <dt>
                            Type
                        </dt>
                        <dd>
                            <span class="param-type">object</span>
                        </dd>
                    </dl>
                    <h5>Example</h5>
                    <pre class="prettyprint"><code>var mail = new $.net.Mail();
mail.subject = "About what the email is."
mail.subjectEncoding = "UTF-8";
mail.sender = {address: "from@sap.com"};
mail.to.push({name: "John Doe", address: "john.doe@sap.com", nameEncoding: "US-ASCII"});
mail.cc = [{name: "Cc1", address: "cc1@recepient.com"}, {address: "cc2@recepient.com"}];
mail.parts.push(new $.net.Mail.Part({type: $.net.Mail.Part.TYPE_TEXT, text: 'Text'}));

var returnValue;
var response = "";

try {
    returnValue = <b>await </b>mail.send();
} catch(error) {
    response = "Error occurred:" + error.message;
}
response = "MessageId = " + returnValue.messageId + ", final reply = " + returnValue.finalReply;

$.response.status = $.net.http.OK;
$.response.contentType = "text/html";
<b>await </b>$.response.setBody(response);</code></pre>
                </dd>
            </dl>
        </article>
    </section>
</div>
<nav>
    <h2><a href="index.html">Index</a></h2>
    <h3>Classes</h3>
    <table>
        <tr>
            <td><a href="$.security.AntiVirus.html">AntiVirus</a></td>
            <td class="oblique">$.security</td>
        </tr>
        <tr>
            <td><a href="$.Application.html">Application</a></td>
            <td class="oblique">$</td>
        </tr>
        <tr>
            <td><a href="$.web.Body.html">Body</a></td>
            <td class="oblique">$.web</td>
        </tr>
        <tr>
            <td><a href="$.db.CallableStatement.html">CallableStatement</a></td>
            <td class="oblique">$.db</td>
        </tr>
        <tr>
            <td><a href="$.net.http.Client.html">Client</a></td>
            <td class="oblique">$.net.http</td>
        </tr>
        <tr>
            <td><a href="$.hdb.ColumnMetadata.html">ColumnMetadata</a></td>
            <td class="oblique">$.hdb</td>
        </tr>
        <tr>
            <td><a href="$.db.Connection.html">Connection</a></td>
            <td class="oblique">$.db</td>
        </tr>
        <tr>
            <td><a href="$.hdb.Connection.html">Connection</a></td>
            <td class="oblique">$.hdb</td>
        </tr>
        <tr>
            <td><a href="$.net.Destination.html">Destination</a></td>
            <td class="oblique">$.net</td>
        </tr>
        <tr>
            <td><a href="$.net.http.Destination.html">Destination</a></td>
            <td class="oblique">$.net.http</td>
        </tr>
        <tr>
            <td><a href="$.web.EntityList.html">EntityList</a></td>
            <td class="oblique">$.web</td>
        </tr>
        <tr>
            <td><a href="$.jobs.Job.html">Job</a></td>
            <td class="oblique">$.jobs</td>
        </tr>
        <tr>
            <td><a href="$.jobs.JobLog.html">JobLog</a></td>
            <td class="oblique">$.jobs</td>
        </tr>
        <tr>
            <td><a href="$.jobs.JobSchedules.html">JobSchedules</a></td>
            <td class="oblique">$.jobs</td>
        </tr>
        <tr>
            <td><a href="$.net.Mail.html">Mail</a></td>
            <td class="oblique">$.net</td>
        </tr>
        <tr>
            <td><a href="$.db.ParameterMetaData.html">ParameterMetaData</a></td>
            <td class="oblique">$.db</td>
        </tr>
        <tr>
            <td><a href="$.net.Mail.Part.html">Part</a></td>
            <td class="oblique">$.net.Mail</td>
        </tr>
        <tr>
            <td><a href="$.db.PreparedStatement.html">PreparedStatement</a></td>
            <td class="oblique">$.db</td>
        </tr>
        <tr>
            <td><a href="$.hdb.ProcedureResult.html">ProcedureResult</a></td>
            <td class="oblique">$.hdb</td>
        </tr>
        <tr>
            <td><a href="$.net.http.Request.html">Request</a></td>
            <td class="oblique">$.net.http</td>
        </tr>
        <tr>
            <td><a href="$.db.ResultSet.html">ResultSet</a></td>
            <td class="oblique">$.db</td>
        </tr>
        <tr>
            <td><a href="$.hdb.ResultSet.html">ResultSet</a></td>
            <td class="oblique">$.hdb</td>
        </tr>
        <tr>
            <td><a href="$.hdb.ResultSetIterator.html">ResultSetIterator</a></td>
            <td class="oblique">$.hdb</td>
        </tr>
        <tr>
            <td><a href="$.db.ResultSetMetaData.html">ResultSetMetaData</a></td>
            <td class="oblique">$.db</td>
        </tr>
        <tr>
            <td><a href="$.hdb.ResultSetMetaData.html">ResultSetMetaData</a></td>
            <td class="oblique">$.hdb</td>
        </tr>
        <tr>
            <td><a href="$.util.SAXParser.html">SAXParser</a></td>
            <td class="oblique">$.util</td>
        </tr>
        <tr>
            <td><a href="$.Session.html">Session</a></td>
            <td class="oblique">$</td>
        </tr>
        <tr>
            <td><a href="$.text.analysis.Session.html">Session</a></td>
            <td class="oblique">$.text.analysis</td>
        </tr>
        <tr>
            <td><a href="$.text.mining.Session.html">Session</a></td>
            <td class="oblique">$.text.mining</td>
        </tr>
        <tr>
            <td><a href="$.net.SMTPConnection.html">SMTPConnection</a></td>
            <td class="oblique">$.net</td>
        </tr>
        <tr>
            <td><a href="$.db.SQLException.html">SQLException</a></td>
            <td class="oblique">$.db</td>
        </tr>
        <tr>
            <td><a href="$.hdb.SQLException.html">SQLException</a></td>
            <td class="oblique">$.hdb</td>
        </tr>
        <tr>
            <td><a href="$.security.Store.html">Store</a></td>
            <td class="oblique">$.security</td>
        </tr>
        <tr>
            <td><a href="$.web.TupelList.html">TupelList</a></td>
            <td class="oblique">$.web</td>
        </tr>
        <tr>
            <td><a href="$.web.WebEntityRequest.html">WebEntityRequest</a></td>
            <td class="oblique">$.web</td>
        </tr>
        <tr>
            <td><a href="$.web.WebEntityResponse.html">WebEntityResponse</a></td>
            <td class="oblique">$.web</td>
        </tr>
        <tr>
            <td><a href="$.web.WebRequest.html">WebRequest</a></td>
            <td class="oblique">$.web</td>
        </tr>
        <tr>
            <td><a href="$.web.WebResponse.html">WebResponse</a></td>
            <td class="oblique">$.web</td>
        </tr>
        <tr>
            <td><a href="$.util.Zip.html">Zip</a></td>
            <td class="oblique">$.util</td>
        </tr>
    </table>
    <h3>Namespaces</h3>
    <ul>
        <li><a href="$.html"><span class="oblique"></span>$</a></li>
        <li><a href="$.db.html"><span class="oblique">$.</span>db</a></li>
        <li><a href="$.hdb.html"><span class="oblique">$.</span>hdb</a></li>
        <li><a href="$.jobs.html"><span class="oblique">$.</span>jobs</a></li>
        <li><a href="$.net.html"><span class="oblique">$.</span>net</a></li>
        <li><a href="$.net.http.html"><span class="oblique">$.net.</span>http</a></li>
        <li><a href="$.security.html"><span class="oblique">$.</span>security</a></li>
        <li><a href="$.security.crypto.html"><span class="oblique">$.security.</span>crypto</a></li>
        <li><a href="$.security.x509.html"><span class="oblique">$.security.</span>x509</a></li>
        <li><a href="$.text.html"><span class="oblique">$.</span>text</a></li>
        <li><a href="$.text.analysis.html"><span class="oblique">$.text.</span>analysis</a></li>
        <li><a href="$.text.mining.html"><span class="oblique">$.text.</span>mining</a></li>
        <li><a href="$.trace.html"><span class="oblique">$.</span>trace</a></li>
        <li><a href="$.util.html"><span class="oblique">$.</span>util</a></li>
        <li><a href="$.util.codec.html"><span class="oblique">$.util.</span>codec</a></li>
        <li><a href="$.util.compression.html"><span class="oblique">$.util.</span>compression</a></li>
        <li><a href="$.util.sql.html"><span class="oblique">$.util.</span>sql</a></li>
        <li><a href="$.web.html"><span class="oblique">$.</span>web</a></li>
    </ul>
</nav>
<br clear="both">
<footer>
    <a href="Copyright-SAP.html">Copyright</a>
    &
    <a href="Disclaimer-SAP.html">Disclaimer</a>
</footer>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>

</body>

</html>
