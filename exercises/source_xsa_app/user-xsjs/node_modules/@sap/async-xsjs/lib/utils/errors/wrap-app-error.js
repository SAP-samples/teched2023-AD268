'use strict';

var _ = require('lodash');

module.exports = function wrapAppError(err) {
  if (_.isError(err)) {
    return err;
  }
  if (err && err.message && err.code) {
    // error objects coming from @sap/hana-client
    // are not instances of Error
    var e = new Error(err.message);
    e.code = err.code;
    e.sqlState = err.sqlState;
    return e;
  }
  return new Error(err);
};
