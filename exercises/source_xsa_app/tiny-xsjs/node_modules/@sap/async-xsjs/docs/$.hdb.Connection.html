<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Connection</title>
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">


    <script src="scripts/launch-8b3c5ca29b9e.min.js"></script>
    <script src="scripts/highlight.js"></script>

    <link rel="canonical" href="$.hdb.Connection.html">
</head>
<body>
<div id="main">
    <h1 class="page-title">Class: Connection</h1>
    <section>
        <header>
            <h2>
                <span class="ancestors"><a href="$.html">$</a><a href="$.hdb.html">.hdb</a>.</span>
                Connection
            </h2>
            <div class="class-description">HANA database connection.</div>
        </header>
        <article>
            <div class="container-overview">
                <dt>
                    <h4 class="name" id="Connection"><span class="type-signature"></span>new Connection<span
                            class="signature">()</span><span class="type-signature"></span></h4>
                </dt>
                <dd>
                    <dl class="details">
                    </dl>
                </dd>
            </div>
            <h3 class="subsection-title">Methods</h3>
            <dl>
                <dt>
                    <h4 class="name" id="close"><span class="type-signature">async </span>close<span
                            class="signature">()</span><span class="type-signature"></span></h4>
                </dt>
                <dd>
                    <div class="description">
                        Closes the connection
                    </div>
                    <dl class="details">
                    </dl>
                    <h5>Throws:</h5>
                    <dl>
                        <dt>
                            <div class="param-desc">
                                Throws an error if the operation fails.
                            </div>
                        </dt>
                        <dt>
                            <dl>
                                <dt>
                                    Type
                                </dt>
                                <dd>
                                    <span class="param-type"><a
                                            href="$.hdb.SQLException.html">$.hdb.SQLException</a></span>
                                </dd>
                            </dl>
                        </dt>
                    </dl>
                </dd>
                <dt>
                    <h4 class="name" id="commit"><span class="type-signature">async </span>commit<span
                            class="signature">()</span><span class="type-signature"></span></h4>
                </dt>
                <dd>
                    <div class="description">
                        Commits the changes and ends the current transaction. <b>By default autocommit mode is disabled,
                        which means all database changes must be explicitly commited.</b>
                    </div>
                    <dl class="details">
                    </dl>
                    <h5>Throws:</h5>
                    <dl>
                        <dt>
                            <div class="param-desc">
                                Throws an error if the operation fails.
                            </div>
                        </dt>
                        <dt>
                            <dl>
                                <dt>
                                    Type
                                </dt>
                                <dd>
                                    <span class="param-type"><a
                                            href="$.hdb.SQLException.html">$.hdb.SQLException</a></span>
                                </dd>
                            </dl>
                        </dt>
                    </dl>
                    <h5>Example</h5>
                    <pre class="prettyprint"><code>var connection = <b>await </b>$.hdb.getConnection();
<b>await </b>connection.executeUpdate('UPDATE "DB_EXAMPLE"."ICECREAM" SET QUANTITY=? WHERE FLAVOR=?', 9, 'CHOCOLATE');
<b>await </b>connection.commit();</code></pre>
                </dd>
                <dt>
                    <h4 class="name" id="executeQuery"><span class="type-signature">async </span>executeQuery<span
                            class="signature">(query, <span class="optional">arguments</span>)</span><span
                            class="type-signature"> &rarr; {<a href="$.hdb.ResultSet.html">$.hdb.ResultSet</a>}</span>
                    </h4>
                </dt>
                <dd>
                    <div class="description">
                        Executes a database query. The query string is prepared and the additional arguments are applied
                        as statement parameters, before the statement is executed.
                    </div>
                    <h5>Parameters:</h5>
                    <table class="params">
                        <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Argument</th>
                            <th class="last">Description</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td class="name"><code>query</code></td>
                            <td class="type">
                                <span class="param-type">string</span>
                            </td>
                            <td class="attributes">
                            </td>
                            <td class="description last">The query string to be executed.</td>
                        </tr>
                        <tr>
                            <td class="name"><code>arguments</code></td>
                            <td class="type">
                                <span class="param-type">any</span>
                            </td>
                            <td class="attributes">
                                &lt;optional><br>
                                &lt;repeatable><br>
                            </td>
                            <td class="description last">Variable number of arguments to be bound to the query
                                parameters.
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <dl class="details">
                    </dl>
                    <h5>Throws:</h5>
                    <dl>
                        <dt>
                            <div class="param-desc">
                                Throws an error if the statement cannot be executed.
                            </div>
                        </dt>
                        <dt>
                            <dl>
                                <dt>
                                    Type
                                </dt>
                                <dd>
                                    <span class="param-type"><a
                                            href="$.hdb.SQLException.html">$.hdb.SQLException</a></span>
                                </dd>
                            </dl>
                        </dt>
                    </dl>
                    <h5>Returns:</h5>
                    <dl>
                        <dt>
                            Type
                        </dt>
                        <dd>
                            <span class="param-type"><a href="$.hdb.ResultSet.html">$.hdb.ResultSet</a></span>
                        </dd>
                    </dl>
                    <h5>Example</h5>
                    <pre class="prettyprint"><code>var connection = <b>await </b>$.hdb.getConnection();
<b>await </b>connection.executeQuery('SELECT * FROM "DB_EXAMPLE"."ICECREAM"');
<b>await </b>connection.executeQuery('SELECT * FROM "DB_EXAMPLE"."ICECREAM" WHERE FLAVOR = ?', 'CHOCOLATE');
<b>await </b>connection.executeQuery('SELECT * FROM "DB_EXAMPLE"."ICECREAM" WHERE FLAVOR = ? AND PRICE < ?', 'STRAWBERRY', 2.50);</code></pre>
                </dd>
                <dt>
                    <h4 class="name" id="executeUpdate"><span class="type-signature">async </span>executeUpdate<span
                            class="signature">(statement, <span class="optional">arguments</span>)</span><span
                            class="type-signature"> &rarr; {number|array}</span></h4>
                </dt>
                <dd>
                    <div class="description">
                        Executes a SQL statement, which changes the database state. SELECT and CALL statements are not
                        allowed here. The query string is prepared and the additional arguments are applied as statement
                        parameters, before the statement is executed.
                    </div>
                    <h5>Parameters:</h5>
                    <table class="params">
                        <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th>Argument</th>
                            <th class="last">Description</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td class="name"><code>statement</code></td>
                            <td class="type">
                                <span class="param-type">string</span>
                            </td>
                            <td class="attributes">
                            </td>
                            <td class="description last">The statement to be executed.</td>
                        </tr>
                        <tr>
                            <td class="name"><code>arguments</code></td>
                            <td class="type">
                                <span class="param-type">any</span>
                            </td>
                            <td class="attributes">
                                &lt;optional><br>
                                &lt;repeatable><br>
                            </td>
                            <td class="description last">Variable number of arguments to be bound to the query
                                parameters.
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <dl class="details">
                    </dl>
                    <h5>Throws:</h5>
                    <dl>
                        <dt>
                            <div class="param-desc">
                                Throws an error if the statement cannot be executed.
                            </div>
                        </dt>
                        <dt>
                            <dl>
                                <dt>
                                    Type
                                </dt>
                                <dd>
                                    <span class="param-type"><a
                                            href="$.hdb.SQLException.html">$.hdb.SQLException</a></span>
                                </dd>
                            </dl>
                        </dt>
                    </dl>
                    <h5>Returns:</h5>
                    <div class="param-desc">
                        Number of affected rows | Array of numbers in case of batch update.
                    </div>
                    <dl>
                        <dt>
                            Type
                        </dt>
                        <dd>
                            <span class="param-type">number</span>
                            |
                            <span class="param-type">array</span>
                        </dd>
                    </dl>
                    <h5>Example</h5>
                    <pre class="prettyprint"><code>var connection = <b>await </b>$.hdb.getConnection();
<b>await </b>connection.executeUpdate('INSERT INTO "DB_EXAMPLE"."ICECREAM" VALUES (?,?,?)','STRAWBERRY', 2.50, 64.18);
<b>await </b>connection.executeUpdate('UPDATE "DB_EXAMPLE"."CASH" SET INCOME=?', 64.18);
<b>await </b>connection.executeUpdate('DELETE FROM "DB_EXAMPLE"."ICECREAM" WHERE FLAVOR = ?', 'STRAWBERRY');

//Batch Insert
var argsArray = [["MINT", 3.50, 34.5], ["VANILLA", 2.50, 23.6], ["CHERRY", 4.50, 67.9]];
<b>await </b>connection.executeUpdate('INSERT INTO "DB_EXAMPLE"."ICECREAM" VALUES (?,?,?)', argsArray)
<b>await </b>connection.commit();</code></pre>
                </dd>
                <dt>
                    <h4 class="name" id="getLastWarning"><span class="type-signature"></span>getLastWarning<span
                            class="signature">()</span><span class="type-signature"> &rarr; {Object|null}</span></h4>
                </dt>
                <dd>
                    <div class="description">
                        Returns the warning of the most recently executed statement.
                    </div>
                    <dl class="details">
                    </dl>
                    <h5>Throws:</h5>
                    <dl>
                        <dt>
                            <div class="param-desc">
                                Throws an error if the operation fails.
                            </div>
                        </dt>
                        <dt>
                            <dl>
                                <dt>
                                    Type
                                </dt>
                                <dd>
                                    <span class="param-type"><a
                                            href="$.hdb.SQLException.html">$.hdb.SQLException</a></span>
                                </dd>
                            </dl>
                        </dt>
                    </dl>
                    <h5>Returns:</h5>
                    <div class="param-desc">
                        The return value has two properties: 'code' and 'message'.
                        'null' is returned if the most recent statement didn't issue a warning.
                    </div>
                    <dl>
                        <dt>
                            Type
                        </dt>
                        <dd>
                            <span class="param-type">Object</span>
                            |
                            <span class="param-type">null</span>
                        </dd>
                    </dl>
                </dd>
                <dt>
                    <h4 class="name" id="loadProcedure"><span class="type-signature">async</span> loadProcedure<span
                            class="signature">(schema, procedure)</span><span
                            class="type-signature"> &rarr; {async function}</span></h4>
                </dt>
                <dd>
                    <div class="description">
                        Returns a JavaScript function representing the stored procedure being loaded.
                    </div>
                    <h5>Parameters:</h5>
                    <table class="params">
                        <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th class="last">Description</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td class="name"><code>schema</code></td>
                            <td class="type">
                                <span class="param-type">string</span>
                            </td>
                            <td class="description last">The schema to which the procedure belongs.</td>
                        </tr>
                        <tr>
                            <td class="name"><code>procedure</code></td>
                            <td class="type">
                                <span class="param-type">string</span>
                            </td>
                            <td class="description last">The name of the procedure.</td>
                        </tr>
                        </tbody>
                    </table>
                    <dl class="details">
                    </dl>
                    <h5>Returns:</h5>
                    <dl>
                        <dt>
                            Type
                        </dt>
                        <dd>
                            <span class="param-type">function</span>
                        </dd>
                    </dl>
                    <h5>Examples</h5>
                    <pre class="prettyprint"><code>var connection = <b>await </b>$.hdb.getConnection();
// the procedure has signature 'DB_EXAMPLE'.'icecream.shop::sell'(IN flavor VARCHAR, IN quantity INTEGER, IN payment DECIMAL, OUT change DECIMAL)
var fnSell = <b>await </b>connection.loadProcedure('DB_EXAMPLE', 'icecream.shop::sell');
// call the procedure just like calling a javascript function
// sell three ice cream cups with chocolate flavor for 20 bucks each
var result = <b>await </b>fnSell('CHOCOLATE', 3, 20.00);
// alternatively use named parameters
var result = <b>await </b>fnSell({flavor: 'CHOCOLATE', quantity: 3, payment: 20.00});
// result is a $.hdb.ProcedureResult object</code></pre>
                    <pre class="prettyprint"><code><b><font
                            size="4">Table Parameter Support For Stored Procedures</font></b>

// the procedure has signature 'DB_EXAMPLE'.'icecream.shop::lower_price_by'(IN ice_cream_prices prices_table_type, IN lower_price_by DOUBLE, OUT new_ice_cream_prices prices_table_type)
var fnlowerPrice = <b>await </b>connection.loadProcedure('DB_EXAMPLE', 'icecream.shop::lower_price_by');

// passing a $.hdb.ResultSet object
var price_list = <b>await </b>connection.executeQuery('SELECT * FROM "DB_EXAMPLE"."SOLD_FLAVORS_PRICES"');
var result = <b>await </b>fnlowerPrice(price_list, 1.50);

// passing a string containing the name of existing table in the database
var result = <b>await </b>fnlowerPrice('"DB_EXAMPLE"."SOLD_FLAVORS_PRICES"', 1.50);

// passing an array of JSON objects representing the rows in the table
var price_list = [{flavor: 'STRAWBERRY', price: 4.50}, {flavor : 'VANILLA', price: 3.50}, {flavor: 'CHOCOLATE', price: 5.50}];
var result = <b>await </b>fnlowerPrice(price_list, 1.50);

// We can get the table output parameter "new_ice_cream_prices" like any other output parameter:
var new_price_list = result.new_ice_cream_prices;
// new_price_list is a $.hdb.ResultSet object</code></pre>
                </dd>
                <dt>
                    <h4 class="name" id="rollback"><span class="type-signature">async </span>rollback<span class="signature">()</span><span
                            class="type-signature"></span></h4>
                </dt>
                <dd>
                    <div class="description">
                        Reverts the changes and ends the current transaction.
                    </div>
                    <dl class="details">
                    </dl>
                    <h5>Throws:</h5>
                    <dl>
                        <dt>
                            <div class="param-desc">
                                Throws an error if the operation fails.
                            </div>
                        </dt>
                        <dt>
                            <dl>
                                <dt>
                                    Type
                                </dt>
                                <dd>
                                    <span class="param-type"><a
                                            href="$.hdb.SQLException.html">$.hdb.SQLException</a></span>
                                </dd>
                            </dl>
                        </dt>
                    </dl>
                    <h5>Example</h5>
                    <pre class="prettyprint"><code>var connection = <b>await </b>$.hdb.getConnection();
<b>await </b>connection.executeUpdate('UPDATE "DB_EXAMPLE"."ICECREAM" SET QUANTITY=? WHERE FLAVOR=?', 9, 'CHOCOLATE');
<b>await </b>connection.rollback();</code></pre>
                </dd>
                <dt>
                    <h4 class="name" id="setAutoCommit"><span class="type-signature"></span>setAutoCommit<span
                            class="signature">(enable)</span><span class="type-signature"></span></h4>
                </dt>
                <dd>
                    <div class="description">
                        Changes the auto-commit flag of the connection.
                    </div>
                    <h5>Parameters:</h5>
                    <table class="params">
                        <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <th class="last">Description</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td class="name"><code>enable</code></td>
                            <td class="type">
                                <span class="param-type">number</span>
                            </td>
                            <td class="description last">A number value, which can be either 0 (false) or 1 (true)</td>
                        </tr>
                        </tbody>
                    </table>
                    <dl class="details">
                    </dl>
                </dd>
            </dl>
        </article>
    </section>
</div>
<nav>
    <h2><a href="index.html">Index</a></h2>
    <h3>Classes</h3>
    <table>
        <tr>
            <td><a href="$.security.AntiVirus.html">AntiVirus</a></td>
            <td class="oblique">$.security</td>
        </tr>
        <tr>
            <td><a href="$.Application.html">Application</a></td>
            <td class="oblique">$</td>
        </tr>
        <tr>
            <td><a href="$.web.Body.html">Body</a></td>
            <td class="oblique">$.web</td>
        </tr>
        <tr>
            <td><a href="$.db.CallableStatement.html">CallableStatement</a></td>
            <td class="oblique">$.db</td>
        </tr>
        <tr>
            <td><a href="$.net.http.Client.html">Client</a></td>
            <td class="oblique">$.net.http</td>
        </tr>
        <tr>
            <td><a href="$.hdb.ColumnMetadata.html">ColumnMetadata</a></td>
            <td class="oblique">$.hdb</td>
        </tr>
        <tr>
            <td><a href="$.db.Connection.html">Connection</a></td>
            <td class="oblique">$.db</td>
        </tr>
        <tr>
            <td><a href="$.hdb.Connection.html">Connection</a></td>
            <td class="oblique">$.hdb</td>
        </tr>
        <tr>
            <td><a href="$.net.Destination.html">Destination</a></td>
            <td class="oblique">$.net</td>
        </tr>
        <tr>
            <td><a href="$.net.http.Destination.html">Destination</a></td>
            <td class="oblique">$.net.http</td>
        </tr>
        <tr>
            <td><a href="$.web.EntityList.html">EntityList</a></td>
            <td class="oblique">$.web</td>
        </tr>
        <tr>
            <td><a href="$.jobs.Job.html">Job</a></td>
            <td class="oblique">$.jobs</td>
        </tr>
        <tr>
            <td><a href="$.jobs.JobLog.html">JobLog</a></td>
            <td class="oblique">$.jobs</td>
        </tr>
        <tr>
            <td><a href="$.jobs.JobSchedules.html">JobSchedules</a></td>
            <td class="oblique">$.jobs</td>
        </tr>
        <tr>
            <td><a href="$.net.Mail.html">Mail</a></td>
            <td class="oblique">$.net</td>
        </tr>
        <tr>
            <td><a href="$.db.ParameterMetaData.html">ParameterMetaData</a></td>
            <td class="oblique">$.db</td>
        </tr>
        <tr>
            <td><a href="$.net.Mail.Part.html">Part</a></td>
            <td class="oblique">$.net.Mail</td>
        </tr>
        <tr>
            <td><a href="$.db.PreparedStatement.html">PreparedStatement</a></td>
            <td class="oblique">$.db</td>
        </tr>
        <tr>
            <td><a href="$.hdb.ProcedureResult.html">ProcedureResult</a></td>
            <td class="oblique">$.hdb</td>
        </tr>
        <tr>
            <td><a href="$.net.http.Request.html">Request</a></td>
            <td class="oblique">$.net.http</td>
        </tr>
        <tr>
            <td><a href="$.db.ResultSet.html">ResultSet</a></td>
            <td class="oblique">$.db</td>
        </tr>
        <tr>
            <td><a href="$.hdb.ResultSet.html">ResultSet</a></td>
            <td class="oblique">$.hdb</td>
        </tr>
        <tr>
            <td><a href="$.hdb.ResultSetIterator.html">ResultSetIterator</a></td>
            <td class="oblique">$.hdb</td>
        </tr>
        <tr>
            <td><a href="$.db.ResultSetMetaData.html">ResultSetMetaData</a></td>
            <td class="oblique">$.db</td>
        </tr>
        <tr>
            <td><a href="$.hdb.ResultSetMetaData.html">ResultSetMetaData</a></td>
            <td class="oblique">$.hdb</td>
        </tr>
        <tr>
            <td><a href="$.util.SAXParser.html">SAXParser</a></td>
            <td class="oblique">$.util</td>
        </tr>
        <tr>
            <td><a href="$.Session.html">Session</a></td>
            <td class="oblique">$</td>
        </tr>
        <tr>
            <td><a href="$.text.analysis.Session.html">Session</a></td>
            <td class="oblique">$.text.analysis</td>
        </tr>
        <tr>
            <td><a href="$.text.mining.Session.html">Session</a></td>
            <td class="oblique">$.text.mining</td>
        </tr>
        <tr>
            <td><a href="$.net.SMTPConnection.html">SMTPConnection</a></td>
            <td class="oblique">$.net</td>
        </tr>
        <tr>
            <td><a href="$.db.SQLException.html">SQLException</a></td>
            <td class="oblique">$.db</td>
        </tr>
        <tr>
            <td><a href="$.hdb.SQLException.html">SQLException</a></td>
            <td class="oblique">$.hdb</td>
        </tr>
        <tr>
            <td><a href="$.security.Store.html">Store</a></td>
            <td class="oblique">$.security</td>
        </tr>
        <tr>
            <td><a href="$.web.TupelList.html">TupelList</a></td>
            <td class="oblique">$.web</td>
        </tr>
        <tr>
            <td><a href="$.web.WebEntityRequest.html">WebEntityRequest</a></td>
            <td class="oblique">$.web</td>
        </tr>
        <tr>
            <td><a href="$.web.WebEntityResponse.html">WebEntityResponse</a></td>
            <td class="oblique">$.web</td>
        </tr>
        <tr>
            <td><a href="$.web.WebRequest.html">WebRequest</a></td>
            <td class="oblique">$.web</td>
        </tr>
        <tr>
            <td><a href="$.web.WebResponse.html">WebResponse</a></td>
            <td class="oblique">$.web</td>
        </tr>
        <tr>
            <td><a href="$.util.Zip.html">Zip</a></td>
            <td class="oblique">$.util</td>
        </tr>
    </table>
    <h3>Namespaces</h3>
    <ul>
        <li><a href="$.html"><span class="oblique"></span>$</a></li>
        <li><a href="$.db.html"><span class="oblique">$.</span>db</a></li>
        <li><a href="$.hdb.html"><span class="oblique">$.</span>hdb</a></li>
        <li><a href="$.jobs.html"><span class="oblique">$.</span>jobs</a></li>
        <li><a href="$.net.html"><span class="oblique">$.</span>net</a></li>
        <li><a href="$.net.http.html"><span class="oblique">$.net.</span>http</a></li>
        <li><a href="$.security.html"><span class="oblique">$.</span>security</a></li>
        <li><a href="$.security.crypto.html"><span class="oblique">$.security.</span>crypto</a></li>
        <li><a href="$.security.x509.html"><span class="oblique">$.security.</span>x509</a></li>
        <li><a href="$.text.html"><span class="oblique">$.</span>text</a></li>
        <li><a href="$.text.analysis.html"><span class="oblique">$.text.</span>analysis</a></li>
        <li><a href="$.text.mining.html"><span class="oblique">$.text.</span>mining</a></li>
        <li><a href="$.trace.html"><span class="oblique">$.</span>trace</a></li>
        <li><a href="$.util.html"><span class="oblique">$.</span>util</a></li>
        <li><a href="$.util.codec.html"><span class="oblique">$.util.</span>codec</a></li>
        <li><a href="$.util.compression.html"><span class="oblique">$.util.</span>compression</a></li>
        <li><a href="$.util.sql.html"><span class="oblique">$.util.</span>sql</a></li>
        <li><a href="$.web.html"><span class="oblique">$.</span>web</a></li>
    </ul>
</nav>
<br clear="both">
<footer>
    <a href="Copyright-SAP.html">Copyright</a>
    &
    <a href="Disclaimer-SAP.html">Disclaimer</a>
</footer>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>

</html>
